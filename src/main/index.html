<!DOCTYPE html>
<html>
<head>
    <title>PEPFAR Approvals App</title>

    <link type="text/css" rel="stylesheet" media="screen" href="../dhis-web-commons/javascripts/jQuery/ui/css/redmond/jquery-ui.css">

    <link href="vendor/font-awesome/font-awesome.css" rel="stylesheet" type="text/css" />
    <link href="vendor/bootstrap/bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="vendor/d2js/css/d2.css" rel="stylesheet" type="text/css" />
    <link href="vendor/angular-ui-select/select.css" type="text/css" rel="stylesheet" />
    <link href="css/app.css" rel="stylesheet" type="text/css" />
</head>
<body ng-app="PEPFAR.approvals" ng-controller="appController as app">
    <header-bar></header-bar>

    <div class="info-wrap">
        <h1 ng-bind="app.title">Data approval</h1><span class="status"><span class="prefix">status</span><span ng-bind="app.status"></span></span>
    </div>

    <div class="dropdown-controls">
        <div class="dataset-group-selector-wrap">
            <dataset-group-selector></dataset-group-selector>
        </div>

        <div class="period-selector-wrap">
            <period-selector></period-selector>
        </div>
    </div>

    <div ng-show="!app.showData">
        <div class="action-buttons">
            <div class="btn-group">
                <button class="btn btn-default" ng-disabled="!app.hasAllDetails()" ng-click="app.updateDataView()">View/Act</button>
            </div>
        </div>

        <tabset justified="true">
            <tab ng-show="app.tabs.accept.access" ng-controller="acceptTableViewController as tableView" disabled="!tableView.hasItems(app, 'accept')" active="app.tabs.accept.state">
                <tab-heading>
                    {{ app.tabs.accept.name }}
                    <span class="fa-stack fa-lg available-actions">
                        <i class="fa fa-stack-1x fa-square available-actions-dot"></i>
                        <i class="fa-stack-1x available-actions-text" ng-bind="tableView.approvalTableData.length"></i>
                    </span>
                </tab-heading>
                <div ng-include="'tableview.html'"></div>
            </tab>
            <tab ng-controller="acceptedTableViewController as tableView" disabled="!tableView.hasItems(app, 'submit')" active="app.tabs.submit.state">
                <tab-heading>
                    {{ app.tabs.submit.name }}
                    <span class="fa-stack fa-lg available-actions">
                        <i class="fa fa-stack-1x fa-square available-actions-dot"></i>
                        <i class="fa-stack-1x available-actions-text" ng-bind="tableView.approvalTableData.length"></i>
                    </span>
                </tab-heading>
                <div ng-include="'tableview.html'"></div>
            </tab>
            <tab ng-controller="submittedTableViewController as tableView" disabled="!tableView.hasItems(app, 'unsubmit')" active="app.tabs.unsubmit.state">
                <tab-heading>
                    {{ app.tabs.unsubmit.name }}
                    <span class="fa-stack fa-lg available-actions">
                        <i class="fa fa-stack-1x fa-square available-actions-dot"></i>
                        <i class="fa-stack-1x available-actions-text" ng-bind="tableView.approvalTableData.length"></i>
                    </span>
                </tab-heading>
                <div ng-include="'tableview.html'"></div>
            </tab>
            <tab ng-controller="allTableViewController as tableView" disabled="!tableView.hasItems(app, 'all')" active="app.tabs.view.state">
                <tab-heading>
                    {{ app.tabs.view.name }}
                    <span class="fa-stack fa-lg available-items">
                        <i class="fa fa-stack-1x fa-square-o available-items-dot"></i>
                        <i class="fa-stack-1x available-items-text" ng-bind="tableView.approvalTableData.length"></i>
                    </span>
                </tab-heading>
                <div ng-include="'tableview.html'"></div>
            </tab>
        </tabset>
    </div>

    <div ng-controller="dataViewController as dataView" ng-show="app.showData" class="view-wrap">
        <div ng-include="'dataview.html'"></div>
    </div>

    <script src="vendor/jquery/jquery.js"></script>
    <script src="vendor/lodash/lodash.compat.js"></script>
    <script src="vendor/angular/angular.js"></script>
    <script src="vendor/angular-route/angular-route.js"></script>
    <script src="vendor/restangular/restangular.js"></script>
    <script src="vendor/angular-bootstrap/ui-bootstrap-tpls.js"></script>
    <script src="vendor/angular-ui-select/select.js"></script>
    <script src="vendor/d2js/js/d2.js"></script>

    <!-- Dhis period/calendar support -->
    <script type="text/javascript" src="../dhis-web-commons/javascripts/jQuery/calendars/jquery.calendars.min.js"></script>
    <script type="text/javascript" src="../dhis-web-commons/javascripts/jQuery/calendars/jquery.calendars.plus.min.js"></script>
    <script type="text/javascript" src="../dhis-web-commons/javascripts/dhis2/dhis2.util.js"></script>
    <script type="text/javascript" src="../dhis-web-commons/javascripts/dhis2/dhis2.period.js"></script>

    <!-- Scripts for display of reports -->
    <script type="text/javascript" src="../dhis-web-commons/javascripts/jQuery/ui/jquery-ui.min.js"></script>
    <!--<script type="text/javascript" src="../dhis-web-dataentry/javascript/form.js"></script>-->

    <script src="js/app.js"></script>
</body>
</html>
